"use strict";(self.webpackChunkgldf=self.webpackChunkgldf||[]).push([[6895],{7159:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"structure/spectrums","title":"Spectrums","description":"Spectrum Description","source":"@site/docs/structure/spectrums.md","sourceDirName":"structure","slug":"/structure/spectrums","permalink":"/docs/structure/spectrums","draft":false,"unlisted":false,"editUrl":"https://github.com/globallightingdata/website/tree/master/docs/structure/spectrums.md","tags":[],"version":"current","frontMatter":{"title":"Spectrums","sidebar_label":"Spectrums"},"sidebar":"sidebar","previous":{"title":"Photometries","permalink":"/docs/structure/photometries"},"next":{"title":"Light Sources","permalink":"/docs/structure/light-sources"}}');var i=t(4848),r=t(8453);const c={title:"Spectrums",sidebar_label:"Spectrums"},l=void 0,o={},d=[{value:"Spectrum Description",id:"spectrum-description",level:2},{value:"Location in XSD",id:"location-in-xsd",level:2},{value:"XSD description",id:"xsd-description",level:2},{value:"1. Spectrum within GLDF XML",id:"1-spectrum-within-gldf-xml",level:2},{value:"2. Spectrum through <code>File</code> reference",id:"2-spectrum-through-file-reference",level:2},{value:"Referencing a spectrum",id:"referencing-a-spectrum",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"spectrum-description",children:"Spectrum Description"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Spectrums"})," is the fourth child-element of ",(0,i.jsx)(n.code,{children:"GeneralDefinitions"})," - the part in the XML where ",(0,i.jsx)(n.strong,{children:"global and reusable"})," elements are defined (imagine them as the building blocks of each luminaire). The definition of spectrums is ",(0,i.jsx)(n.strong,{children:"optional"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"A spectrum in the GLDF can be defined in two ways"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Through a table with an assignment of intensities to wavelengths, inside the GLDF XML iteself"}),"\n",(0,i.jsxs)(n.li,{children:["Through a ",(0,i.jsx)(n.code,{children:"File"})," reference containing a well-formed spectrum definition, outside the GLDF XML"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"location-in-xsd",children:"Location in XSD"}),"\n",(0,i.jsx)("img",{src:"/img/docs/structure/spectrums-hierarchy.webp",alt:"Spectrum location in XSD",width:"550"}),"\n",(0,i.jsx)(n.h2,{id:"xsd-description",children:"XSD description"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Spectrums in XSD",src:t(2038).A+"",width:"579",height:"274"})}),"\n",(0,i.jsx)(n.h2,{id:"1-spectrum-within-gldf-xml",children:"1. Spectrum within GLDF XML"}),"\n",(0,i.jsx)(n.p,{children:"The first option to define a spectrum is within the GLDF XML as follows"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Spectrum inside XSD XML",src:t(577).A+"",width:"583",height:"270"})}),"\n",(0,i.jsxs)(n.p,{children:["Simply add a collection of ",(0,i.jsx)(n.code,{children:"Intensity"})," elements, in which the ",(0,i.jsx)(n.code,{children:"wavelenth"})," attribute determines the wavelength in nanometer. And the content of the element the intensity of the wavelength."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",metastring:"{8-12} showLineNumbers",children:'<?xml version="1.0" encoding="UTF-8"?>\n<Root xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n      xsi:noNamespaceSchemaLocation="https://gldf.io/xsd/gldf/1.0.0-rc.3/gldf.xsd">\n  <Header/>\n  <GeneralDefinitions>\n    <Spectrums>\n      <Spectrum id="spectrum1">\n        <Intensity wavelength="380">0.03</Intensity>\n        <Intensity wavelength="385">0.08</Intensity>\n        <Intensity wavelength="390">0.12</Intensity>\n        \x3c!-- snip wavelength 395-775 --\x3e\n        <Intensity wavelength="780">0.02</Intensity>\n      </Spectrum>\n    </Spectrums>\n  </GeneralDefinitions>\n  <ProductDefinitions/>\n</Root>\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"2-spectrum-through-file-reference",children:["2. Spectrum through ",(0,i.jsx)(n.code,{children:"File"})," reference"]}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.code,{children:"Spectrum"})," can also reference a ",(0,i.jsx)(n.a,{href:"/docs/structure/files",children:(0,i.jsx)(n.strong,{children:"File"})})," element which describes the location of the spectrum content file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",metastring:"{7-8,12} showLineNumbers",children:'<?xml version="1.0" encoding="UTF-8"?>\n<Root xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n      xsi:noNamespaceSchemaLocation="https://gldf.io/xsd/gldf/1.0.0-rc.3/gldf.xsd">\n  <Header/>\n  <GeneralDefinitions>\n    <Files>\n      <File id="spectrumFile" contentType="spectrum/text" \n            type="url">https://example.org/spectrum.txt</File>\n    </Files>\n    <Spectrums>\n      <Spectrum id="spectrum1">\n        <SpectrumFileReference fileId="spectrumFile" />\n      </Spectrum>\n    </Spectrums>\n  </GeneralDefinitions>\n  <ProductDefinitions/>\n</Root>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Spectrum"})," Element above ",(0,i.jsx)(n.strong,{children:"references"})," a spectrum File stored online, in this fictitious example at example.org/spectrum.txt. Spectrum files must conform to a ",(0,i.jsx)(n.strong,{children:"specific formatting"})," in order to be processed."]}),"\n",(0,i.jsx)(n.p,{children:"The spectrum file..."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["must be a ",(0,i.jsx)(n.strong,{children:"text"})," file"]}),"\n",(0,i.jsxs)(n.li,{children:["contain the assignment of ",(0,i.jsx)(n.strong,{children:"wavelengths to intensities"})]}),"\n",(0,i.jsxs)(n.li,{children:["each assignment must be written in a ",(0,i.jsx)(n.strong,{children:"new line"})]}),"\n",(0,i.jsxs)(n.li,{children:["wavelengths and intensities must be ",(0,i.jsx)(n.strong,{children:"separated"})," by a ",(0,i.jsx)(n.strong,{children:"specific character"})]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["The character between wavelength and intensity ",(0,i.jsx)(n.strong,{children:"must"})," be a ",(0,i.jsx)(n.strong,{children:"single whitespace"})," or a ",(0,i.jsx)(n.strong,{children:"single tabulator"}),"!"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"is usually within the range of 380-780(nm), which corresponds to a textfile with 81 lines"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"An abbreviated example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-txt",children:"380  0.003720622\n385  0.003494165\n390  0.002572627\n780  0.0001542017\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"complete spectrum example file"})," can be downloaded here: ",(0,i.jsx)("a",{href:"/other/Spectrum-Mercury-Discharge-Lamp.txt",target:"_blank",children:(0,i.jsx)(n.strong,{children:"Mercury-Vapor-Lamp.txt"})})]})}),"\n",(0,i.jsx)(n.h2,{id:"referencing-a-spectrum",children:"Referencing a spectrum"}),"\n",(0,i.jsxs)(n.p,{children:["Once declared, all spectrums can be referenced in subsequent XML elements via their ",(0,i.jsx)(n.code,{children:"id"})," attribute ",(0,i.jsx)(n.strong,{children:"one or several"})," times."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",metastring:"{10,20} showLineNumbers",children:'<?xml version="1.0" encoding="UTF-8"?>\n<Root xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n      xsi:noNamespaceSchemaLocation="https://gldf.io/xsd/gldf/1.0.0-rc.3/gldf.xsd">\n  <Header/>\n  <GeneralDefinitions>\n    <Files>\n      <File id="spectrumFile" contentType="spectrum/text" type="url">https://example.org/spectrum.txt</File>\n    </Files>\n    <Spectrums>\n      <Spectrum id="spectrum1">\n        <SpectrumFileReference fileId="spectrumFile" />\n      </Spectrum>\n    </Spectrums>\n    <LightSources>\n      <ChangeableLightSource id="lightSource1">\n        <Name>\n          <Locale language="en">Light source with spectrum</Locale>\n        </Name>\n        <RatedInputPower>10</RatedInputPower>\n        <SpectrumReference spectrumId="spectrum1" />\n        <RatedLuminousFlux>80</RatedLuminousFlux>\n      </ChangeableLightSource>\n    </LightSources>\n  </GeneralDefinitions>\n  <ProductDefinitions/>\n</Root>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Spectrum"})," with ",(0,i.jsx)(n.code,{children:"id"})," ",(0,i.jsx)(n.em,{children:"spectrum1"})," (line 9) is referenced once inside the subsequent element ",(0,i.jsx)(n.code,{children:"ChangeableLightSource"})," through the element ",(0,i.jsx)(n.code,{children:"SpectrumReference"}),". And defines the light source's ",(0,i.jsx)(n.strong,{children:"spectrum"})," in this way (line 19)"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},577:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/spectrums-inside-xsd-b895680fe67590e2ef9ab23438d33026.webp"},2038:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/spectrums-xsd-5bb2f05d30b3cba1cb9012367f4320d6.webp"},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var s=t(6540);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);